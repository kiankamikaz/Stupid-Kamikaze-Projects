<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASCII Ant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: #000;
            overflow: hidden;
            cursor: crosshair;
            font-family: 'Courier New', monospace;
        }

        .ant-container {
            position: fixed;
            z-index: 100;
            pointer-events: none;
        }

        .ant-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            transform-origin: center center;
        }

        .ant-row {
            display: flex;
            justify-content: center;
            height: 12px;
            align-items: center;
            line-height: 1;
        }

        .ant-char {
            display: inline-block;
            width: 7px;
            text-align: center;
            font-weight: bold;
            color: #fff;
            font-size: 12px;
        }

        .antenna {
            transition: transform 0.1s;
        }

        .antenna.left {
            animation: antennaLeft 0.4s ease-in-out infinite alternate;
        }

        .antenna.right {
            animation: antennaRight 0.4s ease-in-out infinite alternate;
            animation-delay: 0.2s;
        }

        @keyframes antennaLeft {
            0% { transform: rotate(-8deg) translateX(-1px); }
            100% { transform: rotate(8deg) translateX(1px); }
        }

        @keyframes antennaRight {
            0% { transform: rotate(8deg) translateX(1px); }
            100% { transform: rotate(-8deg) translateX(-1px); }
        }

        .leg {
            transition: transform 0.08s;
        }

        .leg.moving.l1 { animation: legMove1 0.12s ease-in-out infinite alternate; }
        .leg.moving.l2 { animation: legMove2 0.12s ease-in-out infinite alternate; animation-delay: 0.04s; }
        .leg.moving.l3 { animation: legMove3 0.12s ease-in-out infinite alternate; animation-delay: 0.08s; }
        .leg.moving.r1 { animation: legMove1 0.12s ease-in-out infinite alternate; animation-delay: 0.06s; }
        .leg.moving.r2 { animation: legMove2 0.12s ease-in-out infinite alternate; animation-delay: 0.02s; }
        .leg.moving.r3 { animation: legMove3 0.12s ease-in-out infinite alternate; animation-delay: 0.1s; }

        @keyframes legMove1 {
            0% { transform: translateY(-2px) rotate(-15deg); }
            100% { transform: translateY(2px) rotate(15deg); }
        }

        @keyframes legMove2 {
            0% { transform: translateY(2px) rotate(12deg); }
            100% { transform: translateY(-2px) rotate(-12deg); }
        }

        @keyframes legMove3 {
            0% { transform: translateY(-1px) rotate(-10deg); }
            100% { transform: translateY(1px) rotate(10deg); }
        }

        .leg.idle {
            animation: legIdle 1s ease-in-out infinite;
        }

        @keyframes legIdle {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(1px); }
        }

        .body {
            color: #fff;
        }

        .abdomen {
            animation: abdomenPulse 1.5s ease-in-out infinite;
        }

        @keyframes abdomenPulse {
            0%, 100% { transform: scaleX(1); }
            50% { transform: scaleX(1.03); }
        }

        .head {
            animation: headBob 0.8s ease-in-out infinite;
        }

        @keyframes headBob {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-1px); }
        }

        .mandible {
            animation: mandibleMove 0.6s ease-in-out infinite;
        }

        .mandible.left {
            animation-delay: 0s;
        }

        .mandible.right {
            animation-delay: 0.3s;
        }

        @keyframes mandibleMove {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(5deg); }
        }

        .thorax {
            animation: thoraxMove 2s ease-in-out infinite;
        }

        @keyframes thoraxMove {
            0%, 100% { transform: scaleY(1); }
            50% { transform: scaleY(1.02); }
        }
    </style>
</head>
<body>
    <div class="ant-container" id="ant">
        <div class="ant-display" id="antDisplay"></div>
    </div>

    <script>
        const antContainer = document.getElementById('ant');
        const antDisplay = document.getElementById('antDisplay');
        
        let mouseX = window.innerWidth / 2;
        let mouseY = window.innerHeight / 2;
        let antX = window.innerWidth / 2 - 50;
        let antY = window.innerHeight / 2 - 50;
        let isMoving = false;
        let animFrame = 0;
        let lastFrameTime = 0;
        
        // Realistic ASCII Ant - top-down view with proper anatomy
        const antFrames = {
            walk: [
                [
                    "      \\         /      ",
                    "       \\       /       ",
                    "        \\     /        ",
                    "         \\   /         ",
                    "          \\ /          ",
                    "         (o o)         ",
                    "    \\    (   )    /    ",
                    "     \\   |   |   /     ",
                    "      \\__|   |__/      ",
                    "         |   |         ",
                    "    \\____|   |____/    ",
                    "         |   |         ",
                    "     /___|   |___\\     ",
                    "         \\   /         ",
                    "        ( o o )        ",
                    "       (       )       ",
                    "      (         )      ",
                    "       (       )       ",
                    "        (     )        ",
                    "         \\   /         ",
                    "          \\_/          "
                ],
                [
                    "       \\        /      ",
                    "        \\      /       ",
                    "         \\    /        ",
                    "          \\  /         ",
                    "           \\/          ",
                    "         (o o)         ",
                    "     /   (   )   \\     ",
                    "    /    |   |    \\    ",
                    "   /____ |   | ____\\   ",
                    "         |   |         ",
                    "     /---|   |---\\     ",
                    "         |   |         ",
                    "    \\___ |   | ___/    ",
                    "         \\   /         ",
                    "        ( o o )        ",
                    "       (       )       ",
                    "      (         )      ",
                    "       (       )       ",
                    "        (     )        ",
                    "         \\   /         ",
                    "          \\_/          "
                ]
            ],
            idle: [
                [
                    "      \\         /      ",
                    "       \\       /       ",
                    "        \\     /        ",
                    "         \\   /         ",
                    "          \\ /          ",
                    "         (o o)         ",
                    "         (   )         ",
                    "      \\  |   |  /      ",
                    "       \\_|   |_/       ",
                    "         |   |         ",
                    "      \\__|   |__/      ",
                    "         |   |         ",
                    "      /__|   |__\\      ",
                    "         \\   /         ",
                    "        ( o o )        ",
                    "       (       )       ",
                    "      (         )      ",
                    "       (       )       ",
                    "        (     )        ",
                    "         \\   /         ",
                    "          \\_/          "
                ],
                [
                    "       \\        /      ",
                    "        \\      /       ",
                    "         \\    /        ",
                    "          \\  /         ",
                    "           \\/          ",
                    "         (o o)         ",
                    "         (   )         ",
                    "      /  |   |  \\      ",
                    "     /__ |   | __\\     ",
                    "         |   |         ",
                    "      /__|   |__\\      ",
                    "         |   |         ",
                    "      \\_||   ||_/      ",
                    "         \\   /         ",
                    "        ( o o )        ",
                    "       (       )       ",
                    "      (         )      ",
                    "       (       )       ",
                    "        (     )        ",
                    "         \\   /         ",
                    "          \\_/          "
                ]
            ]
        };

        function renderAnt(moving) {
            const frameSet = moving ? antFrames.walk : antFrames.idle;
            const frame = frameSet[animFrame % frameSet.length];
            
            let html = '';
            frame.forEach((row, rowIndex) => {
                html += '<div class="ant-row">';
                for (let i = 0; i < row.length; i++) {
                    const char = row[i];
                    let className = 'ant-char';
                    
                    // Antennae (top rows)
                    if (rowIndex < 5 && (char === '\\' || char === '/')) {
                        if (i < row.length / 2) {
                            className += ' antenna left';
                        } else {
                            className += ' antenna right';
                        }
                    }
                    // Head
                    else if (rowIndex >= 5 && rowIndex <= 6) {
                        className += ' head';
                    }
                    // Mandibles (eyes area near head)
                    else if (char === 'o' && rowIndex === 5) {
                        className += ' head';
                    }
                    // Legs (middle section with slashes)
                    else if (rowIndex >= 7 && rowIndex <= 12 && (char === '\\' || char === '/' || char === '_' || char === '-')) {
                        const legClass = moving ? ' leg moving' : ' leg idle';
                        if (i < row.length / 2) {
                            if (rowIndex <= 8) className += legClass + ' l1';
                            else if (rowIndex <= 10) className += legClass + ' l2';
                            else className += legClass + ' l3';
                        } else {
                            if (rowIndex <= 8) className += legClass + ' r1';
                            else if (rowIndex <= 10) className += legClass + ' r2';
                            else className += legClass + ' r3';
                        }
                    }
                    // Thorax
                    else if (rowIndex >= 7 && rowIndex <= 13 && char === '|') {
                        className += ' thorax';
                    }
                    // Abdomen
                    else if (rowIndex >= 14) {
                        className += ' abdomen';
                    }
                    
                    html += '<span class="' + className + '">' + char + '</span>';
                }
                html += '</div>';
            });
            
            antDisplay.innerHTML = html;
        }

        renderAnt(false);

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        function animate(timestamp) {
            // Calculate distance to mouse (center of ant to mouse)
            const antCenterX = antX + 80;
            const antCenterY = antY + 120;
            const dx = mouseX - antCenterX;
            const dy = mouseY - antCenterY;
            const distance = Math.sqrt(dx * dx + dy * dy);
            
            // Only move if far enough from mouse (stop 20px away)
            const stopDistance = 20;
            
            if (distance > stopDistance) {
                isMoving = true;
                
                // Slow walking speed - constant 1.5 pixels per frame
                const speed = 1.5;
                
                antX += (dx / distance) * speed;
                antY += (dy / distance) * speed;
            } else {
                isMoving = false;
            }
            
            // Update animation frame
            if (timestamp - lastFrameTime > 120) {
                animFrame++;
                lastFrameTime = timestamp;
                renderAnt(isMoving);
            }
            
            antContainer.style.left = antX + 'px';
            antContainer.style.top = antY + 'px';
            
            // Calculate rotation angle to face mouse
            const angle = Math.atan2(dy, dx) * (180 / Math.PI) + 90;
            antDisplay.style.transform = 'rotate(' + angle + 'deg)';
            
            requestAnimationFrame(animate);
        }
        
        requestAnimationFrame(animate);

        document.addEventListener('touchmove', (e) => {
            e.preventDefault();
            const touch = e.touches[0];
            mouseX = touch.clientX;
            mouseY = touch.clientY;
        }, { passive: false });

        document.addEventListener('touchstart', (e) => {
            const touch = e.touches[0];
            mouseX = touch.clientX;
            mouseY = touch.clientY;
        });

        antContainer.style.left = antX + 'px';
        antContainer.style.top = antY + 'px';
    </script>
</body>
</html>
